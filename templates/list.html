<!DOCTYPE html>
<html lang="en">
<head>
	<style>
        table, th, td {
            border: 1px solid black;
        }
	</style>
	<meta charset="UTF-8">
	<title> List </title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1 class="text-center mt-5 mb-4"> Questions </h1>
		<form action="/list" method="POST">
			<select name="order_by" id="order_by" required>
				<option {{ 'selected="selected"' if order_by=="id" }} value="id">ID</option>
				<option {{ 'selected="selected"' if order_by=="submission_time" }} value="submission_time">Submission
				                                                                                           time
				</option>
				<option {{ 'selected="selected"' if order_by=="view_count" }} value="view_count">View number</option>
				<option {{ 'selected="selected"' if order_by=="vote_count" }} value="vote_count">Vote number</option>
				<option {{ 'selected="selected"' if order_by=="title" }} value="title">Title</option>
				<option {{ 'selected="selected"' if order_by=="message" }} value="message">Message</option>
			</select>
			<select name="order_direction" id="order_direction" required>
				<option {{ 'selected="selected"' if order_direction=="asc" }} value="asc">Ascending</option>
				<option {{ 'selected="selected"' if order_direction=="desc" }} value="desc">Descending</option>
			</select>
			<button class="btn btn-outline-secondary" type="submit">Sort</button>
		</form>
		<div class="search-questions">
			<form action="/search" method="POST">
				<label for="search-question"> Search Question</label>
				<input type="search" id="search-question" name="search-question" value="Test Question">
				<button type="submit"> Submit</button>
			</form>
		</div>
		<table class="table table-striped mt-3">
			<thead>
				<tr>
					<th>Id</th>
					<th>Submission time</th>
					<th>View number</th>
					<th>Vote number</th>
					<th>Title</th>
					<th>Message</th>
					<th>Vote</th>
				</tr>
			</thead>
		</table>
		<tbody class="align-middle">
			{% for question in questions %}
				<table class="table table-striped mt-3">
					<tr>
						<td>{{ question.id }}</td>
						<td>{{ question.submission_time }}</td>
						<td>{{ question.view_count }}</td>
						<td>{{ question.vote_count }} point</td>
						<td><a href="/question/{{ question["id"] }}"> {{ question["title"] }} </a></td>
						<td>{{ question.message }}</td>
						<td>
							<a href="{{ url_for("question_vote_up", question_id=question["id"]) }}"><img
									src="/static/like.png" width="30" height="30" alt="Like"></a>
							<a href="{{ url_for("question_vote_down", question_id=question["id"]) }}"><img
									src="/static/dislike.png" width="30" height="30" alt="Dislike"></a>
						</td>
					</tr>
				</table>
				{% for answer in searched_answers %}
					{% if question["id"] == answer["question_id"] %}
						<p>Answer: {{ answer.message }}</p>
					{% endif %}
				{% endfor %}
			{% endfor %}

			<h2><a class="btn btn-warning" href='/add-question'> Add New Questions! </a></h2>
	</div>
</body>
</html>
